<%- include('../_layout/adminHeader.ejs') %>
    

<div class="container">
    <h2 class="page-title display-4">Products</h2><br>
    <a href="/admin/product" class="btn btn-primary" style="border-radius: 0; font-family: 'Roboto Slab', serif;">Products</a>
    <a href="/admin/product/add-product" class="btn btn-primary" style="border-radius: 0; font-family: 'Roboto Slab', serif;">Add Product</a>
<br><br>
<% if(count > 0){ %>
<table class = "table table-striped sorting">
    <thead>
        <tr class = "home">
            <th>Product</th>
            <th>Price</th>
            <th>Category</th>
            <th>Product Image</th>            
            <th>Delete</th>         
        </tr>
    </thead>
    <tbody>
        <% products.forEach(function(product){ %>
            <tr>
                <td> <%= product.title %> </td>        
                <td>$<%= parseFloat(product.price).toFixed(2) %></td>      
                <td><%= product.category %></td>
                <td>
                    <% if(product.image == ""){ %>
                        <img src="/images/noimage.png" style="height: 80px; width: 80px;" >
                    <% }else{ %>
                       <img src="/product_images/<%= product._id %>/<%= product.image %>" style="height: 80px; width: 80px;">
                    <% } %>
                </td>   
                <td><a href="/admin/product/delete-product/<%= product._id %>">Delete</a></td>              
            </tr>
        <%   }); %>
    </tbody>
</table>
<% }else{ %>

    <h3 class="text-center">There are no pages</h3>

    <% } %>

</div>
<%- include('../_layout/adminfooter.ejs') %>